(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{8561:function(e,r,s){Promise.resolve().then(s.bind(s,9301)),Promise.resolve().then(s.bind(s,1262))},9301:function(e,r,s){"use strict";s.r(r);var n=s(3827),l=s(6879),i=s(4419),d=s(5779),t=s(5900),c=s(1399),a=s(4090);r.default=function(e){let[r,s]=(0,a.useState)(!1),h=()=>s(!1),x=()=>s(!0);return(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Z,{type:"button",variant:"light",onClick:()=>x(),children:(0,n.jsx)(c.Fm7,{})}),(0,n.jsxs)(i.Z,{show:r,onHide:()=>h(),children:[(0,n.jsx)(i.Z.Header,{closeButton:!0,children:(0,n.jsx)("h3",{children:"Таблицы"})}),(0,n.jsx)(i.Z.Body,{children:(0,n.jsxs)(d.Z,{className:"flex-column",variant:"pills",defaultActiveKey:e.showtoggle,children:[(0,n.jsx)(d.Z.Item,{onClick:()=>h(),children:(0,n.jsx)(d.Z.Link,{href:"/timetable",children:(0,n.jsxs)(t.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[(0,n.jsx)(c.AeW,{className:"pt-1"}),(0,n.jsx)("p",{children:"РАСПИСАНИЕ"})]})})}),(0,n.jsx)(d.Z.Item,{onClick:()=>h(),children:(0,n.jsx)(d.Z.Link,{href:"/routetable",children:(0,n.jsxs)(t.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[(0,n.jsx)(c.nkz,{className:"pt-1"}),(0,n.jsx)("p",{children:"МАРШРУТЫ"})," "]})})}),(0,n.jsx)(d.Z.Item,{onClick:()=>h(),children:(0,n.jsx)(d.Z.Link,{href:"/crewtable",children:(0,n.jsxs)(t.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[(0,n.jsx)(c.rkU,{className:"pt-1"}),(0,n.jsx)("p",{children:"ЭКИПАЖИ"})," "]})})}),(0,n.jsx)(d.Z.Item,{onClick:()=>h(),children:(0,n.jsx)(d.Z.Link,{href:"/cartable",children:(0,n.jsxs)(t.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[(0,n.jsx)(c.BYR,{className:"pt-1"}),(0,n.jsx)("p",{children:"МАШИНЫ"})," "]})})}),(0,n.jsx)(d.Z.Item,{onClick:()=>h(),children:(0,n.jsx)(d.Z.Link,{href:"/drivertable",children:(0,n.jsxs)(t.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[(0,n.jsx)(c._hA,{className:"pt-1"}),(0,n.jsx)("p",{children:"ВОДИТЕЛИ"})," "]})})})]})})]})]})}},1262:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return j}});var n=s(3827),l=s(4090),i=s(8826),d=s(6879),t=s(1399),c=s(4561),a=s(2636),h=function(e){let[r,s]=(0,l.useState)(""),[i,t]=(0,l.useState)("");return(0,n.jsx)("div",{children:(0,n.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[(0,n.jsx)(c.Z.Header,{closeButton:!0,children:(0,n.jsx)(c.Z.Title,{children:(0,n.jsx)("p",{children:"Создать новую запись"})})}),(0,n.jsx)(c.Z.Body,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(a.Z.Group,{children:[(0,n.jsx)(a.Z.Label,{children:"Введите ID автомобиля (Только Цифры)"}),(0,n.jsx)(a.Z.Control,{value:i,onChange:e=>t(e.target.value),type:"text"})]}),(0,n.jsxs)(a.Z.Group,{children:[(0,n.jsx)(a.Z.Label,{children:"Введите ID водителя (Только Цифры)"}),(0,n.jsx)(a.Z.Control,{value:r,onChange:e=>s(e.target.value),type:"text"})]})]})}),(0,n.jsxs)(c.Z.Footer,{children:[(0,n.jsx)(d.Z,{onClick:()=>{e.formEmit(i,r),e.handleClose(),s(""),t("")},variant:"success",children:"Отправить"}),(0,n.jsx)(d.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})},x=s(7907),o=function(e){let[r,s]=(0,l.useState)(""),[i,t]=(0,l.useState)("");var h=[{CrewId:"",CarId:"",DriverId:""}];return void 0!=e.CrewObject[0].CarId&&(h=e.CrewObject),(0,n.jsx)("div",{children:(0,n.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[(0,n.jsx)(c.Z.Header,{closeButton:!0,children:(0,n.jsx)(c.Z.Title,{children:(0,n.jsx)("p",{children:"Изменить Запись ID: "})})}),(0,n.jsx)(c.Z.Body,{children:(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(a.Z.Group,{children:[(0,n.jsx)(a.Z.Label,{children:"Введите ID автомобиля"}),(0,n.jsx)(a.Z.Control,{placeholder:e.CrewObject==[]?"":"".concat(h[0].CarId),value:r,onChange:e=>s(e.target.value),type:"text"})]}),(0,n.jsxs)(a.Z.Group,{children:[(0,n.jsx)(a.Z.Label,{children:"Введите ID водителя "}),(0,n.jsx)(a.Z.Control,{placeholder:e.CrewObject==[]?"":"".concat(h[0].DriverId),value:i,onChange:e=>t(e.target.value),type:"text"})]})]})}),(0,n.jsxs)(c.Z.Footer,{children:[(0,n.jsx)(d.Z,{onClick:()=>{var n,l,d;return n=h[0].CrewId,l=""==r?h[0].CarId:r,d=""==i?h[0].DriverId:i,void(e.recieve([{CrewId:n,CarId:l,DriverId:d}]),e.handleClose(),s(""),t(""))},variant:"success",children:"Отправить"}),(0,n.jsx)(d.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})},j=function(e){let r=(0,x.useRouter)();var s=-1,c=e.data,[a,j]=(0,l.useState)([{CrewId:"",CarId:"",DriverId:""}]),u=e.Driver,C=e.Car;let[Z,v]=(0,l.useState)(!1),p=()=>v(!1),m=()=>v(!0),[I,f]=(0,l.useState)(!1),b=(e,r,s)=>{j([{CrewId:e,CarId:r,DriverId:s}]),f(!0)};return(0,n.jsxs)("div",{children:[(0,n.jsxs)(i.Z,{striped:!0,bordered:!0,hover:!0,children:[(0,n.jsx)("thead",{className:"table-dark",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"ID экипажа"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"ID автомобиля"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"Брэнд автомобиля"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"Номер автомобиля"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"ID водителя"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"Имя Водителя"})}),(0,n.jsx)("th",{children:(0,n.jsx)("p",{children:"Номер Телефона Водителя"})}),(0,n.jsx)("th",{children:(0,n.jsx)(d.Z,{onClick:()=>m(),variant:"success",title:"Добавить",children:(0,n.jsx)(t.ymq,{})})})]})}),(0,n.jsx)("tbody",{children:c.map(l=>C[++s].map(i=>u[s].map(s=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:l.CrewId}),(0,n.jsx)("td",{children:l.CarId}),(0,n.jsx)("td",{children:i.Brand}),(0,n.jsx)("td",{children:i.SerialPlate}),(0,n.jsx)("td",{children:l.DriverId}),(0,n.jsx)("td",{children:s.FullName}),(0,n.jsx)("td",{children:s.PhoneNumber}),(0,n.jsxs)("td",{className:"d-flex",children:[(0,n.jsx)(d.Z,{onClick:()=>b(l.CrewId,l.CarId,l.DriverId),size:"sm",variant:"warning",title:"Редактировать",children:(0,n.jsx)(t.tU3,{})}),(0,n.jsx)(d.Z,{onClick:()=>{var s;return s=l.CrewId,void(e.deleteCrew(s),c=[],c=e.data,r.refresh())},size:"sm",variant:"danger",title:"Удалить",children:(0,n.jsx)(t.AMf,{})})]})]},l.CrewId))))})]}),(0,n.jsx)(h,{show:Z,handleClose:p,formEmit:function(s,n){e.sendCrew(s,n),p(),c=e.data,r.refresh()}}),(0,n.jsx)(o,{show:I,handleClose:()=>f(!1),CrewObject:a,recieve:function(s){e.updateCrew(s[0].CrewId,s),c=[],c=e.data,u=[],u=e.Driver,C=[],C=e.Car,r.refresh()}})]})}}},function(e){e.O(0,[699,489,991,971,69,744],function(){return e(e.s=8561)}),_N_E=e.O()}]);