(()=>{var e={};e.id=93,e.ids=[93],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3802:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>o});var s=t(482),n=t(9108),i=t(2563),a=t.n(i),l=t(8300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(r,c);let o=["",{children:["drivertable",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8359)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\drivertable\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1965)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\drivertable\\page.js"],h="/drivertable/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/drivertable/page",pathname:"/drivertable",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7698:(e,r,t)=>{let s={"86e230cf7e4f7ee76c81a959e6ec8e3f7470c0d0":()=>Promise.resolve().then(t.bind(t,8359)).then(e=>e.$$ACTION_3),"9f166f66f405b8d7d87a95181d58f11f87888ba9":()=>Promise.resolve().then(t.bind(t,8359)).then(e=>e.$$ACTION_5),c44b03dbe03b5792dced2f096ab944ba9f0f2ebb:()=>Promise.resolve().then(t.bind(t,8359)).then(e=>e.$$ACTION_1)};async function n(e,...r){return(await s[e]()).apply(null,r)}e.exports={"86e230cf7e4f7ee76c81a959e6ec8e3f7470c0d0":n.bind(null,"86e230cf7e4f7ee76c81a959e6ec8e3f7470c0d0"),"9f166f66f405b8d7d87a95181d58f11f87888ba9":n.bind(null,"9f166f66f405b8d7d87a95181d58f11f87888ba9"),c44b03dbe03b5792dced2f096ab944ba9f0f2ebb:n.bind(null,"c44b03dbe03b5792dced2f096ab944ba9f0f2ebb")}},9204:()=>{},7036:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},4201:(e,r,t)=>{Promise.resolve().then(t.bind(t,2115)),Promise.resolve().then(t.bind(t,2132))},2115:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5344),n=t(8154),i=t(3120),a=t(8832),l=t(2131),c=t(5739),o=t(3729);let d=function(e){let[r,t]=(0,o.useState)(!1),d=()=>t(!1),h=()=>t(!0);return(0,s.jsxs)("div",{children:[s.jsx(n.Z,{type:"button",variant:"light",onClick:()=>h(),children:s.jsx(c.Fm7,{})}),(0,s.jsxs)(i.Z,{show:r,onHide:()=>d(),children:[s.jsx(i.Z.Header,{closeButton:!0,children:s.jsx("h3",{children:"Таблицы"})}),s.jsx(i.Z.Body,{children:(0,s.jsxs)(a.Z,{className:"flex-column",variant:"pills",defaultActiveKey:e.showtoggle,children:[s.jsx(a.Z.Item,{onClick:()=>d(),children:s.jsx(a.Z.Link,{href:"/timetable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(c.AeW,{className:"pt-1"}),s.jsx("p",{children:"РАСПИСАНИЕ"})]})})}),s.jsx(a.Z.Item,{onClick:()=>d(),children:s.jsx(a.Z.Link,{href:"/routetable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(c.nkz,{className:"pt-1"}),s.jsx("p",{children:"МАРШРУТЫ"})," "]})})}),s.jsx(a.Z.Item,{onClick:()=>d(),children:s.jsx(a.Z.Link,{href:"/crewtable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(c.rkU,{className:"pt-1"}),s.jsx("p",{children:"ЭКИПАЖИ"})," "]})})}),s.jsx(a.Z.Item,{onClick:()=>d(),children:s.jsx(a.Z.Link,{href:"/cartable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(c.BYR,{className:"pt-1"}),s.jsx("p",{children:"МАШИНЫ"})," "]})})}),s.jsx(a.Z.Item,{onClick:()=>d(),children:s.jsx(a.Z.Link,{href:"/drivertable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(c._hA,{className:"pt-1"}),s.jsx("p",{children:"ВОДИТЕЛИ"})," "]})})})]})})]})]})}},2132:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(5344),n=t(3729),i=t(5544),a=t(8154),l=t(5739),c=t(8453),o=t(8104);let d=function(e){let[r,t]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[x,u]=(0,n.useState)(""),[p,j]=(0,n.useState)("");return s.jsx("div",{children:(0,s.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[s.jsx(c.Z.Header,{closeButton:!0,children:s.jsx(c.Z.Title,{children:s.jsx("p",{children:"Создать новую запись"})})}),s.jsx(c.Z.Body,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Имя Отчество"}),s.jsx(o.Z.Control,{value:r,onChange:e=>t(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Возраст (только цифры)"}),s.jsx(o.Z.Control,{value:i,onChange:e=>l(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Опыт Работы (только цифры)"}),s.jsx(o.Z.Control,{value:d,onChange:e=>h(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Номер Паспорта (в форме хххх-хххххх)"}),s.jsx(o.Z.Control,{value:x,onChange:e=>u(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Номер Телефона"}),s.jsx(o.Z.Control,{value:p,onChange:e=>j(e.target.value),type:"text"})]})]})}),(0,s.jsxs)(c.Z.Footer,{children:[s.jsx(a.Z,{onClick:()=>{e.formEmit(r,i,d,x,p),e.handleClose(),l(""),h(""),t(""),u(""),j("")},variant:"success",children:"Отправить"}),s.jsx(a.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})};var h=t(8428);let x=function(e){let[r,t]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[x,u]=(0,n.useState)(""),[p,j]=(0,n.useState)("");var v=[{DriverId:"",FullName:"",DriverAge:"",DriverExperience:"",PassportNumber:"",PhoneNumber:""}];return void 0!=e.driverObject[0].FullName&&(v=e.driverObject),s.jsx("div",{children:(0,s.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[s.jsx(c.Z.Header,{closeButton:!0,children:s.jsx(c.Z.Title,{children:(0,s.jsxs)("p",{children:["Изменить запись ID: ",v[0].DriverId]})})}),s.jsx(c.Z.Body,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Имя Отчество"}),s.jsx(o.Z.Control,{placeholder:e.driverObject==[]?"":`${v[0].FullName}`,value:r,onChange:e=>t(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Возраст (только цифры)"}),s.jsx(o.Z.Control,{placeholder:e.driverObject==[]?"":`${v[0].DriverAge}`,value:i,onChange:e=>l(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Опыт Работы (только цифры)"}),s.jsx(o.Z.Control,{placeholder:e.driverObject==[]?"":`${v[0].DriverExperience}`,value:d,onChange:e=>h(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Номер Паспорта (в форме хххх-хххххх)"}),s.jsx(o.Z.Control,{placeholder:e.driverObject==[]?"":`${v[0].PassportNumber}`,value:x,onChange:e=>u(e.target.value),type:"text"})]}),(0,s.jsxs)(o.Z.Group,{children:[s.jsx(o.Z.Label,{children:"Введите Номер Телефона"}),s.jsx(o.Z.Control,{placeholder:e.driverObject==[]?"":`${v[0].PhoneNumber}`,value:p,onChange:e=>j(e.target.value),type:"text"})]})]})}),(0,s.jsxs)(c.Z.Footer,{children:[s.jsx(a.Z,{onClick:()=>{var s,n,a,c,o,b;return s=v[0].DriverId,n=""==r?v[0].FullName:r,a=""==i?v[0].DriverAge:i,c=""==d?v[0].DriverExperience:d,o=""==x?v[0].PassportNumber:x,b=""==p?v[0].PhoneNumber:p,void(e.recieve([{DriverId:s,FullName:n,DriverAge:a,DriverExperience:c,PassportNumber:o,PhoneNumber:b}]),e.handleClose(),l(""),h(""),t(""),u(""),j(""))},variant:"success",children:"Отправить"}),s.jsx(a.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})},u=function(e){var r=e.data;let t=(0,h.useRouter)();var[c,o]=(0,n.useState)([{DriverId:"",FullName:"",DriverAge:"",DriverExperience:"",PassportNumber:"",PhoneNumber:""}]);let[u,p]=(0,n.useState)(!1),j=()=>p(!1),v=()=>p(!0),[b,m]=(0,n.useState)(!1),f=(e,r,t,s,n,i)=>{o([{DriverId:e,FullName:r,DriverAge:t,DriverExperience:s,PassportNumber:n,PhoneNumber:i}]),m(!0)};return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.Z,{striped:!0,bordered:!0,hover:!0,children:[s.jsx("thead",{className:"table-dark",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:s.jsx("p",{children:"ID"})}),s.jsx("th",{children:s.jsx("p",{children:"Имя Отчество"})}),s.jsx("th",{children:s.jsx("p",{children:"Возраст"})}),s.jsx("th",{children:s.jsx("p",{children:"Опыт Работы"})}),s.jsx("th",{children:s.jsx("p",{children:"Номер Паспорта"})}),s.jsx("th",{children:s.jsx("p",{children:"Номер Телефона"})}),s.jsx("th",{children:s.jsx(a.Z,{onClick:()=>v(),variant:"success",title:"Добавить",children:s.jsx(l.ymq,{})})})]})}),s.jsx("tbody",{children:r.map(n=>(0,s.jsxs)("tr",{children:[s.jsx("td",{children:n.DriverId}),s.jsx("td",{children:n.FullName}),(0,s.jsxs)("td",{children:[n.DriverAge," лет"]}),(0,s.jsxs)("td",{children:[n.DriverExperience," лет"]}),s.jsx("td",{children:n.PassportNumber}),s.jsx("td",{children:n.PhoneNumber}),(0,s.jsxs)("td",{className:"d-flex",children:[s.jsx(a.Z,{onClick:()=>f(n.DriverId,n.FullName,n.DriverAge,n.DriverExperience,n.PassportNumber,n.PhoneNumber),size:"sm",variant:"warning",title:"Редактировать",children:s.jsx(l.tU3,{})}),s.jsx(a.Z,{onClick:()=>{var s;return s=n.DriverId,void(e.deleteDriver(s),r=[],r=e.data,t.refresh())},size:"sm",variant:"danger",title:"Удалить",children:s.jsx(l.AMf,{})})]})]},n.DriverId))})]}),s.jsx(d,{show:u,handleClose:j,formEmit:function(s,n,i,a,l){e.sendDriver(s,n,i,a,l),j(),r=e.data,t.refresh()}}),s.jsx(x,{show:b,handleClose:()=>m(!1),driverObject:c,recieve:function(r){e.updateDriver(r[0].DriverId,r),t.refresh()}})]})}},5050:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>a});let s=(0,t(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\NavigationSidebar.js`),{__esModule:n,$$typeof:i}=s,a=s.default},5727:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>a});let s=(0,t(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\TableDrivers.js`),{__esModule:n,$$typeof:i}=s,a=s.default},8359:(e,r,t)=>{"use strict";t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{$$ACTION_1:()=>d,$$ACTION_3:()=>h,$$ACTION_5:()=>x,default:()=>v});var n=t(5036),i=t(4471);t(8616),t(2);var a=t(5050),l=t(5727),c=t(2479),o=[];let e=async()=>{try{let e=await c.Z.connect(),r=(await e.query('SELECT * FROM public."Drivers" ORDER BY "DriverId" ASC ')).rows;return e.release(),r}catch(e){throw console.error("Error fetching:",e),e}},u=(0,i.U)("c44b03dbe03b5792dced2f096ab944ba9f0f2ebb",d);async function d(r,t,s,n,i){try{let a=await c.Z.connect();await a.query(`INSERT INTO public."Drivers" (
            "FullName", "DriverAge", "DriverExperience", "PassportNumber", "PhoneNumber") 
            VALUES (
            '${r}'::text, '${t}'::integer, '${s}'::integer, 
            '${n}'::text, '${i}'::text)`),a.release(),await e().then(e=>{Object.assign(o,e)}).catch(e=>{console.error("Error fetching:",e)})}catch(e){console.error(e)}}let p=(0,i.U)("86e230cf7e4f7ee76c81a959e6ec8e3f7470c0d0",h);async function h(r){try{let t=await c.Z.connect();await t.query(`DELETE FROM public."Drivers" WHERE "DriverId" IN (${r});`),o=[],await e().then(e=>{Object.assign(o,e)}).catch(e=>{console.error("Error fetching:",e)}),t.release()}catch(e){console.error(e)}}let j=(0,i.U)("9f166f66f405b8d7d87a95181d58f11f87888ba9",x);async function x(r,t){console.log("UpdateDriver:",t[0]);try{let s=await c.Z.connect();await s.query(`UPDATE public."Drivers" SET
          "FullName" = '${t[0].FullName}'::text, "DriverAge" = '${t[0].DriverAge}'::integer, 
          "DriverExperience" = '${t[0].DriverExperience}'::integer, "PassportNumber" = '${t[0].PassportNumber}'::text, 
          "PhoneNumber" = '${t[0].PhoneNumber}'::text 
          WHERE "DriverId" = ${r};`),o=[],await e().then(e=>{Object.assign(o,e)}).catch(e=>{console.error("Error fetching:",e)}),s.release()}catch(e){console.error(e)}}await e().then(e=>{Object.assign(o,e)}).catch(e=>{console.error("Error fetching:",e)});let v=function(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"d-flex flex-row",children:[n.jsx(a.ZP,{showtoggle:"/drivertable"}),n.jsx("h2",{className:"mt-2",children:"Водители"})]}),n.jsx("div",{children:n.jsx(l.ZP,{data:o,sendDriver:u,deleteDriver:p,updateDriver:j})})]})};s()}catch(e){s(e)}},1)},1965:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>n});var s=t(5036);t(1886);let n={title:"Test for UdmurtOil",description:"Done by Alina Erch"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},2479:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=new(require("pg")).Pool({host:process.env.PG_HOST,port:process.env.PG_PORT,user:process.env.PG_USER,password:process.env.PG_PASSWORD,database:process.env.PG_DATABASE})},592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(337);let n=e=>[{type:"image/x-icon",sizes:"50x50",url:(0,s.fillMetadataSegment)(".",e.params,"icon.ico")+"?8370de166f20dc40"}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,141,90,517],()=>t(3802));module.exports=s})();