(()=>{var e={};e.id=37,e.ids=[37],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1135:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(482),n=r(9108),a=r(2563),i=r.n(a),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["routetable",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4322)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\routetable\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1965)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\routetable\\page.js"],h="/routetable/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/routetable/page",pathname:"/routetable",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8603:(e,t,r)=>{let s={"1fbf90b0f99b0cb183855782bdc20b72f09f6adc":()=>Promise.resolve().then(r.bind(r,4322)).then(e=>e.$$ACTION_3),"4a6bbdd763cf9ff7c3a8796333f9d656821c1c86":()=>Promise.resolve().then(r.bind(r,4322)).then(e=>e.$$ACTION_5),"4e85296aa49544612710cbefde8a7d5c2c8ed60a":()=>Promise.resolve().then(r.bind(r,4322)).then(e=>e.$$ACTION_1)};async function n(e,...t){return(await s[e]()).apply(null,t)}e.exports={"1fbf90b0f99b0cb183855782bdc20b72f09f6adc":n.bind(null,"1fbf90b0f99b0cb183855782bdc20b72f09f6adc"),"4a6bbdd763cf9ff7c3a8796333f9d656821c1c86":n.bind(null,"4a6bbdd763cf9ff7c3a8796333f9d656821c1c86"),"4e85296aa49544612710cbefde8a7d5c2c8ed60a":n.bind(null,"4e85296aa49544612710cbefde8a7d5c2c8ed60a")}},9204:()=>{},7036:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},4015:(e,t,r)=>{Promise.resolve().then(r.bind(r,2115)),Promise.resolve().then(r.bind(r,9802))},2115:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5344),n=r(8154),a=r(3120),i=r(8832),l=r(2131),o=r(5739),c=r(3729);let d=function(e){let[t,r]=(0,c.useState)(!1),d=()=>r(!1),h=()=>r(!0);return(0,s.jsxs)("div",{children:[s.jsx(n.Z,{type:"button",variant:"light",onClick:()=>h(),children:s.jsx(o.Fm7,{})}),(0,s.jsxs)(a.Z,{show:t,onHide:()=>d(),children:[s.jsx(a.Z.Header,{closeButton:!0,children:s.jsx("h3",{children:"Таблицы"})}),s.jsx(a.Z.Body,{children:(0,s.jsxs)(i.Z,{className:"flex-column",variant:"pills",defaultActiveKey:e.showtoggle,children:[s.jsx(i.Z.Item,{onClick:()=>d(),children:s.jsx(i.Z.Link,{href:"/timetable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(o.AeW,{className:"pt-1"}),s.jsx("p",{children:"РАСПИСАНИЕ"})]})})}),s.jsx(i.Z.Item,{onClick:()=>d(),children:s.jsx(i.Z.Link,{href:"/routetable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(o.nkz,{className:"pt-1"}),s.jsx("p",{children:"МАРШРУТЫ"})," "]})})}),s.jsx(i.Z.Item,{onClick:()=>d(),children:s.jsx(i.Z.Link,{href:"/crewtable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(o.rkU,{className:"pt-1"}),s.jsx("p",{children:"ЭКИПАЖИ"})," "]})})}),s.jsx(i.Z.Item,{onClick:()=>d(),children:s.jsx(i.Z.Link,{href:"/cartable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(o.BYR,{className:"pt-1"}),s.jsx("p",{children:"МАШИНЫ"})," "]})})}),s.jsx(i.Z.Item,{onClick:()=>d(),children:s.jsx(i.Z.Link,{href:"/drivertable",children:(0,s.jsxs)(l.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[s.jsx(o._hA,{className:"pt-1"}),s.jsx("p",{children:"ВОДИТЕЛИ"})," "]})})})]})})]})]})}},9802:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5344),n=r(3729),a=r(5544),i=r(8154),l=r(5739),o=r(8453),c=r(8104);let d=function(e){let[t,r]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[u,x]=(0,n.useState)("");return s.jsx("div",{children:(0,s.jsxs)(o.Z,{show:e.show,onHide:e.handleClose,children:[s.jsx(o.Z.Header,{closeButton:!0,children:s.jsx(o.Z.Title,{children:s.jsx("p",{children:"Создать новую запись"})})}),s.jsx(o.Z.Body,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Откуда"}),s.jsx(c.Z.Control,{value:t,onChange:e=>r(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Куда "}),s.jsx(c.Z.Control,{value:a,onChange:e=>l(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Расстояние (только цифры)"}),s.jsx(c.Z.Control,{value:d,onChange:e=>h(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Время в Пути (только цифры)"}),s.jsx(c.Z.Control,{value:u,onChange:e=>x(e.target.value),type:"text"})]})]})}),(0,s.jsxs)(o.Z.Footer,{children:[s.jsx(i.Z,{onClick:()=>{e.formEmit(t,a,d,u),e.handleClose(),h(""),x(""),r(""),l("")},variant:"success",children:"Отправить"}),s.jsx(i.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})};var h=r(8428);let u=function(e){let[t,r]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[u,x]=(0,n.useState)("");var j=[{RouteId:"",From:"",To:"",Distance:"",ETA:""}];return void 0!=e.routeObject[0].From&&(j=e.routeObject),s.jsx("div",{children:(0,s.jsxs)(o.Z,{show:e.show,onHide:e.handleClose,children:[s.jsx(o.Z.Header,{closeButton:!0,children:s.jsx(o.Z.Title,{children:(0,s.jsxs)("p",{children:["Изменить Запись ID: ",j[0].RouteId]})})}),s.jsx(o.Z.Body,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Откуда"}),s.jsx(c.Z.Control,{placeholder:e.routeObject==[]?"":`${j[0].From}`,value:t,onChange:e=>r(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Куда "}),s.jsx(c.Z.Control,{placeholder:e.routeObject==[]?"":`${j[0].To}`,value:a,onChange:e=>l(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Расстояние (только цифры)"}),s.jsx(c.Z.Control,{placeholder:e.routeObject==[]?"":`${j[0].Distance}`,value:d,onChange:e=>h(e.target.value),type:"text"})]}),(0,s.jsxs)(c.Z.Group,{children:[s.jsx(c.Z.Label,{children:"Введите Время в Пути (только цифры)"}),s.jsx(c.Z.Control,{placeholder:e.routeObject==[]?"":`${j[0].ETA}`,value:u,onChange:e=>x(e.target.value),type:"text"})]})]})}),(0,s.jsxs)(o.Z.Footer,{children:[s.jsx(i.Z,{onClick:()=>{var s,n,i,o,c;return s=j[0].RouteId,n=""==t?j[0].From:t,i=""==a?j[0].To:a,o=""==d?j[0].Distance:d,c=""==u?j[0].ETA:u,void(e.recieve([{RouteId:s,From:n,To:i,Distance:o,ETA:c}]),e.handleClose(),h(""),x(""),r(""),l(""))},variant:"success",children:"Отправить"}),s.jsx(i.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})},x=function(e){var t=e.data;let r=(0,h.useRouter)();var[o,c]=(0,n.useState)([{RouteId:"",From:"",To:"",Distance:"",ETA:""}]);let[x,j]=(0,n.useState)(!1),p=()=>j(!1),b=()=>j(!0),[f,m]=(0,n.useState)(!1),v=(e,t,r,s,n)=>{c([{RouteId:e,From:t,To:r,Distance:s,ETA:n}]),m(!0)};return(0,s.jsxs)("div",{children:[(0,s.jsxs)(a.Z,{striped:!0,bordered:!0,hover:!0,children:[s.jsx("thead",{className:"table-dark",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:s.jsx("p",{children:"ID"})}),s.jsx("th",{children:s.jsx("p",{children:"Откуда"})}),s.jsx("th",{children:s.jsx("p",{children:"Куда"})}),s.jsx("th",{children:s.jsx("p",{children:"Расстояние"})}),s.jsx("th",{children:s.jsx("p",{children:"Время в пути"})}),s.jsx("th",{children:s.jsx(i.Z,{onClick:()=>b(),variant:"success",title:"Добавить",children:s.jsx(l.ymq,{})})})]})}),s.jsx("tbody",{children:t.map(n=>(0,s.jsxs)("tr",{children:[s.jsx("td",{children:n.RouteId}),s.jsx("td",{children:n.From}),(0,s.jsxs)("td",{children:[n.To," "]}),(0,s.jsxs)("td",{children:[n.Distance," км"]}),(0,s.jsxs)("td",{children:[n.ETA," часов"]}),(0,s.jsxs)("td",{className:"d-flex",children:[s.jsx(i.Z,{onClick:()=>v(n.RouteId,n.From,n.To,n.Distance,n.ETA),size:"sm",variant:"warning",title:"Редактировать",children:s.jsx(l.tU3,{})}),s.jsx(i.Z,{onClick:()=>{var s;return s=n.RouteId,void(e.deleteRoute(s),t=[],t=e.data,r.refresh())},size:"sm",variant:"danger",title:"Удалить",children:s.jsx(l.AMf,{})})]})]},n.RouteId))})]}),s.jsx(d,{show:x,handleClose:p,formEmit:function(s,n,a,i){e.sendRoute(s,n,a,i),p(),t=e.data,r.refresh()}}),s.jsx(u,{show:f,handleClose:()=>m(!1),routeObject:o,recieve:function(t){e.updateRoute(t[0].RouteId,t),r.refresh()}})]})}},5050:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});let s=(0,r(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\NavigationSidebar.js`),{__esModule:n,$$typeof:a}=s,i=s.default},4505:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});let s=(0,r(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\TableRoutes.js`),{__esModule:n,$$typeof:a}=s,i=s.default},1965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(5036);r(1886);let n={title:"Test for UdmurtOil",description:"Done by Alina Erch"};function a({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},4322:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{$$ACTION_1:()=>d,$$ACTION_3:()=>h,$$ACTION_5:()=>u,default:()=>b});var n=r(5036),a=r(4471);r(8616),r(2);var i=r(5050),l=r(4505),o=r(2479),c=[];let e=async()=>{try{let e=await o.Z.connect(),t=(await e.query('SELECT * FROM public."Routes" ORDER BY "RouteId" ASC ')).rows;return e.release(),t}catch(e){throw console.error("Error fetching:",e),e}},x=(0,a.U)("4e85296aa49544612710cbefde8a7d5c2c8ed60a",d);async function d(t,r,s,n){try{let a=await o.Z.connect();await a.query(`INSERT INTO public."Routes" (
            "From", "To", "Distance", "ETA") 
            VALUES ('${t}'::text, '${r}'::text, 
            '${s}'::integer, '${n}'::integer)`),a.release(),await e().then(e=>{Object.assign(c,e)}).catch(e=>{console.error("Error fetching:",e)})}catch(e){console.error(e)}}let j=(0,a.U)("1fbf90b0f99b0cb183855782bdc20b72f09f6adc",h);async function h(t){try{let r=await o.Z.connect();await r.query(`DELETE FROM public."Routes" WHERE "RouteId" IN (${t});`),c=[],await e().then(e=>{Object.assign(c,e)}).catch(e=>{console.error("Error fetching:",e)}),r.release()}catch(e){console.error(e)}}let p=(0,a.U)("4a6bbdd763cf9ff7c3a8796333f9d656821c1c86",u);async function u(t,r){try{let s=await o.Z.connect();await s.query(`UPDATE public."Routes" SET
          "From" = '${r[0].From}'::text, "To" = '${r[0].To}'::text, 
          "Distance" = '${r[0].Distance}'::integer, "ETA" = '${r[0].ETA}'::integer
          WHERE "RouteId" = ${t};`),c=[],await e().then(e=>{Object.assign(c,e)}).catch(e=>{console.error("Error fetching:",e)}),s.release()}catch(e){console.error(e)}}await e().then(e=>{Object.assign(c,e)}).catch(e=>{console.error("Error fetching:",e)});let b=function(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"d-flex flex-row",children:[n.jsx(i.ZP,{showtoggle:"/routetable"}),n.jsx("h2",{className:"mt-2",children:"Маршруты"})]}),n.jsx("div",{children:n.jsx(l.ZP,{updateRoute:p,deleteRoute:j,sendRoute:x,data:c})})]})};s()}catch(e){s(e)}},1)},2479:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=new(require("pg")).Pool({host:process.env.PG_HOST,port:process.env.PG_PORT,user:process.env.PG_USER,password:process.env.PG_PASSWORD,database:process.env.PG_DATABASE})},592:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(337);let n=e=>[{type:"image/x-icon",sizes:"50x50",url:(0,s.fillMetadataSegment)(".",e.params,"icon.ico")+"?8370de166f20dc40"}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,141,90,517],()=>r(1135));module.exports=s})();