(()=>{var e={};e.id=890,e.ids=[890],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},8607:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>o});var a=t(482),s=t(9108),n=t(2563),l=t.n(n),i=t(8300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(r,c);let o=["",{children:["cartable",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8233)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\cartable\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1965)),"F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["F:\\MyTerribleProjects\\_Code\\Cars-and-Drivers_TEST\\frontend-react\\src\\app\\cartable\\page.js"],h="/cartable/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/cartable/page",pathname:"/cartable",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4687:(e,r,t)=>{let a={"18c6688074c25bf2a6b68094f14b48b87bbe84a1":()=>Promise.resolve().then(t.bind(t,8233)).then(e=>e.$$ACTION_3),"868e3abf39c5dc1db0e3a07759dc7e198635c3b0":()=>Promise.resolve().then(t.bind(t,8233)).then(e=>e.$$ACTION_5),c541e12e6c2cc6d5aea84b1d31609231aa176c96:()=>Promise.resolve().then(t.bind(t,8233)).then(e=>e.$$ACTION_1)};async function s(e,...r){return(await a[e]()).apply(null,r)}e.exports={"18c6688074c25bf2a6b68094f14b48b87bbe84a1":s.bind(null,"18c6688074c25bf2a6b68094f14b48b87bbe84a1"),"868e3abf39c5dc1db0e3a07759dc7e198635c3b0":s.bind(null,"868e3abf39c5dc1db0e3a07759dc7e198635c3b0"),c541e12e6c2cc6d5aea84b1d31609231aa176c96:s.bind(null,"c541e12e6c2cc6d5aea84b1d31609231aa176c96")}},9204:()=>{},7036:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},8107:(e,r,t)=>{Promise.resolve().then(t.bind(t,2115)),Promise.resolve().then(t.bind(t,2628))},2115:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(5344),s=t(8154),n=t(3120),l=t(8832),i=t(2131),c=t(5739),o=t(3729);let d=function(e){let[r,t]=(0,o.useState)(!1),d=()=>t(!1),h=()=>t(!0);return(0,a.jsxs)("div",{children:[a.jsx(s.Z,{type:"button",variant:"light",onClick:()=>h(),children:a.jsx(c.Fm7,{})}),(0,a.jsxs)(n.Z,{show:r,onHide:()=>d(),children:[a.jsx(n.Z.Header,{closeButton:!0,children:a.jsx("h3",{children:"Таблицы"})}),a.jsx(n.Z.Body,{children:(0,a.jsxs)(l.Z,{className:"flex-column",variant:"pills",defaultActiveKey:e.showtoggle,children:[a.jsx(l.Z.Item,{onClick:()=>d(),children:a.jsx(l.Z.Link,{href:"/timetable",children:(0,a.jsxs)(i.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[a.jsx(c.AeW,{className:"pt-1"}),a.jsx("p",{children:"РАСПИСАНИЕ"})]})})}),a.jsx(l.Z.Item,{onClick:()=>d(),children:a.jsx(l.Z.Link,{href:"/routetable",children:(0,a.jsxs)(i.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[a.jsx(c.nkz,{className:"pt-1"}),a.jsx("p",{children:"МАРШРУТЫ"})," "]})})}),a.jsx(l.Z.Item,{onClick:()=>d(),children:a.jsx(l.Z.Link,{href:"/crewtable",children:(0,a.jsxs)(i.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[a.jsx(c.rkU,{className:"pt-1"}),a.jsx("p",{children:"ЭКИПАЖИ"})," "]})})}),a.jsx(l.Z.Item,{onClick:()=>d(),children:a.jsx(l.Z.Link,{href:"/cartable",children:(0,a.jsxs)(i.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[a.jsx(c.BYR,{className:"pt-1"}),a.jsx("p",{children:"МАШИНЫ"})," "]})})}),a.jsx(l.Z.Item,{onClick:()=>d(),children:a.jsx(l.Z.Link,{href:"/drivertable",children:(0,a.jsxs)(i.Z,{className:"d-flex align-items-baseline",direction:"horizontal",gap:1,children:[a.jsx(c._hA,{className:"pt-1"}),a.jsx("p",{children:"ВОДИТЕЛИ"})," "]})})})]})})]})]})}},2628:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(5344),s=t(3729),n=t(5544),l=t(8154),i=t(5739),c=t(8453),o=t(8104);let d=function(e){let[r,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[x,u]=(0,s.useState)(""),[j,p]=(0,s.useState)(""),[b,g]=(0,s.useState)("");return a.jsx("div",{children:(0,a.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[a.jsx(c.Z.Header,{closeButton:!0,children:a.jsx(c.Z.Title,{children:a.jsx("p",{children:"Создать новую запись"})})}),a.jsx(c.Z.Body,{children:(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Брэнд"}),a.jsx(o.Z.Control,{value:r,onChange:e=>t(e.target.value),type:"text"})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Модель"}),a.jsx(o.Z.Control,{value:n,onChange:e=>i(e.target.value),type:"text"})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Возраст (только цифры)"}),a.jsx(o.Z.Control,{value:d,onChange:e=>h(e.target.value),type:"text"})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Километраж (только цифры)"}),a.jsx(o.Z.Control,{value:x,onChange:e=>u(e.target.value),type:"text"})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Номер"}),a.jsx(o.Z.Control,{value:j,onChange:e=>p(e.target.value),type:"text"})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Регион"}),a.jsx(o.Z.Control,{value:b,onChange:e=>g(e.target.value),type:"text"})]})]})}),(0,a.jsxs)(c.Z.Footer,{children:[a.jsx(l.Z,{variant:"success",onClick:function(a){e.recieve(r,n,d,x,j,b),t(""),i(""),h(""),u(""),p(""),g("")},children:"Отправить"}),a.jsx(l.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})};var h=t(8428);let x=function(e){let[r,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[x,u]=(0,s.useState)(""),[j,p]=(0,s.useState)(""),[b,g]=(0,s.useState)("");var C=[{CarId:"",Brand:"",Model:"",CarAge:"",Kilometrage:"",SerialPlate:"",RegistrationRegion:""}];return void 0!=e.carObject[0].Brand&&(C=e.carObject),a.jsx("div",{children:(0,a.jsxs)(c.Z,{show:e.show,onHide:e.handleClose,children:[a.jsx(c.Z.Header,{closeButton:!0,children:a.jsx(c.Z.Title,{children:(0,a.jsxs)("p",{children:["Изменить запись ID: ",C[0].CarId]})})}),a.jsx(c.Z.Body,{children:(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Брэнд"}),a.jsx(o.Z.Control,{value:r,onChange:e=>t(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].Brand}`})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Модель"}),a.jsx(o.Z.Control,{value:n,onChange:e=>i(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].Model}`})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Возраст (только цифры)"}),a.jsx(o.Z.Control,{value:d,onChange:e=>h(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].CarAge}`})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Километраж (только цифры)"}),a.jsx(o.Z.Control,{value:x,onChange:e=>u(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].Kilometrage}`})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Номер"}),a.jsx(o.Z.Control,{value:j,onChange:e=>p(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].SerialPlate}`})]}),(0,a.jsxs)(o.Z.Group,{children:[a.jsx(o.Z.Label,{children:"Введите Регион"}),a.jsx(o.Z.Control,{value:b,onChange:e=>g(e.target.value),type:"text",placeholder:e.carObject==[]?"":`${C[0].RegistrationRegion}`})]})]})}),(0,a.jsxs)(c.Z.Footer,{children:[a.jsx(l.Z,{onClick:()=>{var a,s,l,c,o,m,v;return a=C[0].CarId,s=""==r?C[0].Brand:r,l=""==n?C[0].Model:n,c=""==d?C[0].CarAge:d,o=""==x?C[0].Kilometrage:x,m=""==j?C[0].SerialPlate:j,v=""==b?C[0].RegistrationRegion:b,void(e.recieve([{CarId:a,Brand:s,Model:l,CarAge:c,Kilometrage:o,SerialPlate:m,RegistrationRegion:v}]),e.handleClose(),t(""),i(""),h(""),u(""),p(""),g(""))},variant:"success",children:"Отправить"}),a.jsx(l.Z,{onClick:e.handleClose,className:"btn btn-dark",children:"Отменить"})]})]})})},u=function(e){var r=e.data,[t,c]=(0,s.useState)([{CarId:"",Brand:"",Model:"",CarAge:"",Kilometrage:"",SerialPlate:"",RegistrationRegion:""}]);let o=(0,h.useRouter)(),[u,j]=(0,s.useState)(!1),p=()=>j(!1),[b,g]=(0,s.useState)(!1),C=(e,r,t,a,s,n,l)=>{c([{CarId:e,Brand:r,Model:t,CarAge:a,Kilometrage:s,SerialPlate:n,RegistrationRegion:l}]),g(!0)};async function m(t){r=e.data,await e.deleteCar(t),o.refresh()}return(0,a.jsxs)("div",{children:[(0,a.jsxs)(n.Z,{striped:!0,bordered:!0,hover:!0,children:[a.jsx("thead",{className:"table-dark",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:a.jsx("p",{className:"pb-2",children:"ID"})}),a.jsx("th",{children:a.jsx("p",{children:"Брэнд Автомобиля"})}),a.jsx("th",{children:a.jsx("p",{children:"Модель Автомобиля"})}),a.jsx("th",{children:a.jsx("p",{children:"Возраст автомобиля"})}),a.jsx("th",{children:a.jsx("p",{className:"pb-2",children:"Километраж"})}),a.jsx("th",{children:a.jsx("p",{children:"Номер Автомобиля"})}),a.jsx("th",{children:a.jsx("p",{children:"Регион Регистрации"})}),a.jsx("th",{children:a.jsx(l.Z,{onClick:()=>j(!0),variant:"success",title:"Добавить",children:a.jsx(i.ymq,{})})})]})}),a.jsx("tbody",{children:r.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:e.CarId}),a.jsx("td",{children:e.Brand}),a.jsx("td",{children:e.Model}),(0,a.jsxs)("td",{children:[e.CarAge," лет"]}),(0,a.jsxs)("td",{children:[e.Kilometrage," км"]}),a.jsx("td",{children:e.SerialPlate}),a.jsx("td",{children:e.RegistrationRegion}),(0,a.jsxs)("td",{className:"d-flex",children:[a.jsx(l.Z,{onClick:()=>C(e.CarId,e.Brand,e.Model,e.CarAge,e.Kilometrage,e.SerialPlate,e.RegistrationRegion),size:"sm",variant:"warning",title:"Редактировать",children:a.jsx(i.tU3,{})}),a.jsx(l.Z,{onClick:()=>m(e.CarId),size:"sm",variant:"danger",title:"Удалить",children:a.jsx(i.AMf,{})})]})]},e.CarId))})]}),a.jsx(d,{show:u,handleClose:p,recieve:function(t,a,s,n,l,i){e.sendCars(t,a,s,n,l,i),p(),r=e.data,o.refresh()}}),a.jsx(x,{carObject:t,show:b,handleClose:()=>g(!1),recieve:function(r){e.updateCar(r[0].CarId,r),o.refresh()}})]})}},8233:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{$$ACTION_1:()=>d,$$ACTION_3:()=>h,$$ACTION_5:()=>x,default:()=>b});var s=t(5036),n=t(4471);t(8616);var l=t(5050),i=t(2479),c=t(3427),o=[];let e=async()=>{try{let e=await i.Z.connect(),r=(await e.query('SELECT * FROM public."Cars" ORDER BY "CarId" ASC ')).rows;return e.release(),r}catch(e){throw console.error("Error fetching:",e),e}},u=(0,n.U)("c541e12e6c2cc6d5aea84b1d31609231aa176c96",d);async function d(r,t,a,s,n,l){try{let c=await i.Z.connect();await c.query(`INSERT INTO public."Cars" (
        "Brand", "Model", "CarAge", "Kilometrage", "SerialPlate", "RegistrationRegion") VALUES (
        '${r}'::text, '${t}'::text, '${a}'::integer, '${s}'::integer, '${n}'::text, '${l}'::text)`),c.release(),await e().then(e=>{Object.assign(o,e),console.log("CarsSend:",o)}).catch(e=>{console.error("Error fetching:",e)})}catch(e){console.error(e)}}let j=(0,n.U)("18c6688074c25bf2a6b68094f14b48b87bbe84a1",h);async function h(r){try{let t=await i.Z.connect();await t.query(`DELETE FROM public."Cars" WHERE "CarId" IN (${r});`),o=[],await e().then(e=>{Object.assign(o,e),console.log("CarsDelete:",o)}).catch(e=>{console.error("Error fetching:",e)}),t.release()}catch(e){console.error(e)}}let p=(0,n.U)("868e3abf39c5dc1db0e3a07759dc7e198635c3b0",x);async function x(r,t){console.log("UpdateCar:",t[0]);try{let a=await i.Z.connect();await a.query(`UPDATE public."Cars" SET
      "Brand" = '${t[0].Brand}'::text, "Model" = '${t[0].Model}'::text, 
      "CarAge" = '${t[0].CarAge}'::integer, "Kilometrage" = '${t[0].Kilometrage}'::integer, 
      "SerialPlate" = '${t[0].SerialPlate}'::text, "RegistrationRegion" = '${t[0].RegistrationRegion}'::text 
      WHERE "CarId" = ${r};`),o=[],await e().then(e=>{Object.assign(o,e),console.log("CarsDelete:",o)}).catch(e=>{console.error("Error fetching:",e)}),a.release()}catch(e){console.error(e)}}await e().then(e=>{Object.assign(o,e)}).catch(e=>{console.error("Error fetching:",e)});let b=function(){return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"d-flex flex-row",children:[s.jsx(l.ZP,{showtoggle:"/cartable"}),s.jsx("h2",{className:"mt-2",children:"Машины"})]}),s.jsx("div",{children:s.jsx(c.ZP,{updateCar:p,deleteCar:j,sendCars:u,data:o})})]})};a()}catch(e){a(e)}},1)},5050:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l});let a=(0,t(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\NavigationSidebar.js`),{__esModule:s,$$typeof:n}=a,l=a.default},3427:(e,r,t)=>{"use strict";t.d(r,{ZP:()=>l});let a=(0,t(6843).createProxy)(String.raw`F:\MyTerribleProjects\_Code\Cars-and-Drivers_TEST\frontend-react\src\app\components\TableCars.js`),{__esModule:s,$$typeof:n}=a,l=a.default},1965:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>s});var a=t(5036);t(1886);let s={title:"Test for UdmurtOil",description:"Done by Alina Erch"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},2479:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=new(require("pg")).Pool({host:process.env.PG_HOST,port:process.env.PG_PORT,user:process.env.PG_USER,password:process.env.PG_PASSWORD,database:process.env.PG_DATABASE})},592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(337);let s=e=>[{type:"image/x-icon",sizes:"50x50",url:(0,a.fillMetadataSegment)(".",e.params,"icon.ico")+"?8370de166f20dc40"}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,141,90,517],()=>t(8607));module.exports=a})();